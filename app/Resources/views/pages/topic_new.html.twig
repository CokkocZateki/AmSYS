{% extends 'doc_base.html.twig' %}

{% block tableofcontents %}

    <ul>
        {% for tmpChapter in toc %}
            {% if chapter_slug == tmpChapter.slug %}
                <li class="toctree-l1 current"><a class="reference internal" href="{{path('pages', {'chapter_slug': tmpChapter.Slug})}}">{{tmpChapter.Title}}</a>
                    <ul class="current">
                        {% for topic in tmpChapter.Topics %}
                            <li class="toctree-l2"><a class="reference internal" href="{{ path('pages', {'chapter_slug': tmpChapter.Slug, 'topic_slug': topic.Slug}) }}"><span class="topicid">{{topic.TopicNumber}}</span>{{topic.Title}}</a></li>
                        {% endfor %}
                    </ul>
                </li>
            {% else %}
                <li class="toctree-l1"><a class="reference internal" href="{{path('pages', {'chapter_slug': tmpChapter.Slug})}}">{{tmpChapter.Title}}</a></li>
            {% endif %}
        {% endfor %}
    </ul>

{% endblock %}

{% block body %}
    <div role="navigation" aria-label="breadcrumbs navigation">
        <hr>
    </div>
    <div role="main" class="document" itemscope="itemscope">
        <div itemprop="articleBody">
            <h1>Create New Topic</h1>
            {{ form_start(form) }}

                
                <div class="form-group">
                    {{ form_label(form.slug) }}
                    {{ form_errors(form.slug) }}
                    {{ form_widget(form.slug) }}
                    <span id="helpBlock">This is a string field representing the unique text id of this Chapter.  This should be unique to the entire Table
                        of Contents on the left and should not contain spaces!</span>
                </div>
                <div class="form-group">
                    {{ form_label(form.title) }}
                    {{ form_errors(form.title) }}
                    {{ form_widget(form.title) }}
                    <span id="helpBlock">This is a string field for the Title that will show up in the Table of Contents on the left.</span>
                </div>
                <div class="form-group">
                    {{ form_label(form.content) }}
                    {{ form_errors(form.content) }}
                    {{ form_widget(form.content) }}
                    <span id="helpBlock">This is a string field for the Title that will show up in the Table of Contents on the left.</span>
                </div>

                <div>
                    {{ form_widget(form.save) }}
                </div>

            {{ form_end(form) }}
        </div>
    </div>
    <footer>
        <hr>
        <div role="contentinfo">
            <p>Â© Copyright 2016, Allied Industries.</p>
        </div>
    </footer>
    <script>
      $(function () {
        // Replace the <textarea id="editor1"> with a CKEditor
        // instance, using default configuration.
        CKEDITOR.replace('form_content');
        //bootstrap WYSIHTML5 - text editor
        //$(".textarea").wysihtml5();
      });
    </script>
{% endblock %}
